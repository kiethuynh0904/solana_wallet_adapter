(this["webpackJsonpsolana-wallet-apdater"]=this["webpackJsonpsolana-wallet-apdater"]||[]).push([[0],{154:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return x})),n.d(t,"c",(function(){return A})),n.d(t,"d",(function(){return M})),n.d(t,"e",(function(){return C}));var r,a=n(10),i=n(11),c=n(12),s=n(1),o=n.n(s),u=n(42),l=n(93),b=n(9),d={token:new b.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),associatedToken:new b.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),metadata:"metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s",memo:new b.PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr")},p="metadata",f="edition";!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.MetadataV1=4]="MetadataV1",e[e.EditionV1=1]="EditionV1",e[e.MasterEditionV1=2]="MasterEditionV1",e[e.MasterEditionV2=6]="MasterEditionV2",e[e.EditionMarker=7]="EditionMarker"}(r||(r={}));var j=Object(i.a)((function e(t){Object(c.a)(this,e),this.key=void 0,this.supply=void 0,this.maxSupply=void 0,this.printingMint=void 0,this.oneTimePrintingAuthorizationMint=void 0,this.key=r.MasterEditionV1,this.supply=t.supply,this.maxSupply=t.maxSupply,this.printingMint=t.printingMint,this.oneTimePrintingAuthorizationMint=t.oneTimePrintingAuthorizationMint})),h=Object(i.a)((function e(t){Object(c.a)(this,e),this.key=void 0,this.supply=void 0,this.maxSupply=void 0,this.key=r.MasterEditionV2,this.supply=t.supply,this.maxSupply=t.maxSupply})),m=function(){function e(t){Object(c.a)(this,e),this.key=void 0,this.ledger=void 0,this.key=r.EditionMarker,this.ledger=t.ledger}return Object(i.a)(e,[{key:"editionTaken",value:function(e){var t=e%248,n=Math.floor(t/8);if(n>30)throw Error("bad index for edition");var r=7-t%8,a=Math.pow(2,r);return 0!=(this.ledger[n]&a)}}]),e}(),g=Object(i.a)((function e(t){Object(c.a)(this,e),this.key=void 0,this.parent=void 0,this.edition=void 0,this.key=r.EditionV1,this.parent=t.parent,this.edition=t.edition})),y=Object(i.a)((function e(t){Object(c.a)(this,e),this.address=void 0,this.verified=void 0,this.share=void 0,this.address=t.address,this.verified=t.verified,this.share=t.share})),x=Object(i.a)((function e(t){Object(c.a)(this,e),this.name=void 0,this.symbol=void 0,this.uri=void 0,this.sellerFeeBasisPoints=void 0,this.creators=void 0,this.name=t.name,this.symbol=t.symbol,this.uri=t.uri,this.sellerFeeBasisPoints=t.sellerFeeBasisPoints,this.creators=t.creators})),O=function(){function e(t){var n;Object(c.a)(this,e),this.key=void 0,this.updateAuthority=void 0,this.mint=void 0,this.data=void 0,this.primarySaleHappened=void 0,this.isMutable=void 0,this.editionNonce=void 0,this.masterEdition=void 0,this.edition=void 0,this.key=r.MetadataV1,this.updateAuthority=t.updateAuthority,this.mint=t.mint,this.data=t.data,this.primarySaleHappened=t.primarySaleHappened,this.isMutable=t.isMutable,this.editionNonce=null!==(n=t.editionNonce)&&void 0!==n?n:null}return Object(i.a)(e,[{key:"init",value:function(){var e=Object(a.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(this.mint);case 2:this.edition=e.sent,this.masterEdition=this.edition;case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),v=Object(i.a)((function e(t){Object(c.a)(this,e),this.instruction=0,this.data=void 0,this.isMutable=void 0,this.data=t.data,this.isMutable=t.isMutable})),k=Object(i.a)((function e(t){Object(c.a)(this,e),this.instruction=1,this.data=void 0,this.updateAuthority=void 0,this.primarySaleHappened=void 0,this.data=t.data?t.data:null,this.updateAuthority=t.updateAuthority?t.updateAuthority:null,this.primarySaleHappened=t.primarySaleHappened})),w=Object(i.a)((function e(t){Object(c.a)(this,e),this.instruction=10,this.maxSupply=void 0,this.maxSupply=t.maxSupply})),S=new Map([[v,{kind:"struct",fields:[["instruction","u8"],["data",x],["isMutable","u8"]]}],[k,{kind:"struct",fields:[["instruction","u8"],["data",{kind:"option",type:x}],["updateAuthority",{kind:"option",type:"pubkeyAsString"}],["primarySaleHappened",{kind:"option",type:"u8"}]]}],[w,{kind:"struct",fields:[["instruction","u8"],["maxSupply",{kind:"option",type:"u64"}]]}],[Object(i.a)((function e(t){Object(c.a)(this,e),this.instruction=9,this.supply=void 0,this.supply=t.supply})),{kind:"struct",fields:[["instruction","u8"],["supply","u64"]]}],[j,{kind:"struct",fields:[["key","u8"],["supply","u64"],["maxSupply",{kind:"option",type:"u64"}],["printingMint","pubkeyAsString"],["oneTimePrintingAuthorizationMint","pubkeyAsString"]]}],[h,{kind:"struct",fields:[["key","u8"],["supply","u64"],["maxSupply",{kind:"option",type:"u64"}]]}],[g,{kind:"struct",fields:[["key","u8"],["parent","pubkeyAsString"],["edition","u64"]]}],[x,{kind:"struct",fields:[["name","string"],["symbol","string"],["uri","string"],["sellerFeeBasisPoints","u16"],["creators",{kind:"option",type:[y]}]]}],[y,{kind:"struct",fields:[["address","pubkeyAsString"],["verified","u8"],["share","u8"]]}],[O,{kind:"struct",fields:[["key","u8"],["updateAuthority","pubkeyAsString"],["mint","pubkeyAsString"],["data",x],["primarySaleHappened","u8"],["isMutable","u8"],["editionNonce",{kind:"option",type:"u8"}]]}],[m,{kind:"struct",fields:[["key","u8"],["ledger",[31]]]}]]);function P(e){return T.apply(this,arguments)}function T(){return(T=Object(a.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.c)([e.from(p),new b.PublicKey(d.metadata).toBuffer(),new b.PublicKey(n).toBuffer(),e.from(f)],new b.PublicKey(d.metadata));case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function A(e,t,n,r,a,i){return K.apply(this,arguments)}function K(){return(K=Object(a.a)(o.a.mark((function t(n,r,a,i,c,s){var j,h,m,g,y,x;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j=d.metadata,t.next=3,Object(u.c)([e.from(p),new b.PublicKey(j).toBuffer(),new b.PublicKey(r).toBuffer()],new b.PublicKey(j));case 3:return h=t.sent[0],t.next=6,Object(u.c)([e.from(p),new b.PublicKey(j).toBuffer(),new b.PublicKey(r).toBuffer(),e.from(f)],new b.PublicKey(j));case 6:m=t.sent[0],g=new w({maxSupply:n||null}),y=e.from(Object(l.serialize)(S,g)),x=[{pubkey:new b.PublicKey(m),isSigner:!1,isWritable:!0},{pubkey:new b.PublicKey(r),isSigner:!1,isWritable:!0},{pubkey:new b.PublicKey(a),isSigner:!0,isWritable:!1},{pubkey:new b.PublicKey(i),isSigner:!0,isWritable:!1},{pubkey:new b.PublicKey(c),isSigner:!0,isWritable:!1},{pubkey:new b.PublicKey(h),isSigner:!1,isWritable:!1},{pubkey:d.token,isSigner:!1,isWritable:!1},{pubkey:b.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:b.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],s.push(new b.TransactionInstruction({keys:x,programId:new b.PublicKey(j),data:y}));case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function M(e,t,n,r,a,i){return R.apply(this,arguments)}function R(){return(R=Object(a.a)(o.a.mark((function t(n,r,a,i,c,s){var p,f,j,h,m;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p=d.metadata,t.next=3,Object(u.c)([e.from("metadata"),new b.PublicKey(p).toBuffer(),new b.PublicKey(a).toBuffer()],new b.PublicKey(p));case 3:return f=t.sent[0],j=new v({data:n,isMutable:!0}),h=e.from(Object(l.serialize)(S,j)),m=[{pubkey:new b.PublicKey(f),isSigner:!1,isWritable:!0},{pubkey:new b.PublicKey(a),isSigner:!1,isWritable:!1},{pubkey:new b.PublicKey(i),isSigner:!0,isWritable:!1},{pubkey:new b.PublicKey(s),isSigner:!0,isWritable:!1},{pubkey:new b.PublicKey(r),isSigner:!1,isWritable:!1},{pubkey:b.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:b.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],c.push(new b.TransactionInstruction({keys:m,programId:new b.PublicKey(p),data:h})),t.abrupt("return",f);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function C(e,t,n,r,a,i,c){return _.apply(this,arguments)}function _(){return(_=Object(a.a)(o.a.mark((function t(n,r,a,i,c,s,p){var f,j,h,m;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(f=d.metadata,t.t0=p,t.t0){t.next=6;break}return t.next=5,Object(u.c)([e.from("metadata"),new b.PublicKey(f).toBuffer(),new b.PublicKey(i).toBuffer()],new b.PublicKey(f));case 5:t.t0=t.sent[0];case 6:return p=t.t0,j=new k({data:n,updateAuthority:r||void 0,primarySaleHappened:null===a||void 0===a?null:a}),h=e.from(Object(l.serialize)(S,j)),m=[{pubkey:new b.PublicKey(p),isSigner:!1,isWritable:!0},{pubkey:new b.PublicKey(c),isSigner:!0,isWritable:!1}],s.push(new b.TransactionInstruction({keys:m,programId:new b.PublicKey(f),data:h})),t.abrupt("return",p);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}).call(this,n(15).Buffer)},209:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s}));var r=n(11),a=n(12),i=n(93),c=Object(r.a)((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;Object(a.a)(this,e),this.counter=0,this.highest_trans=0,t&&(this.counter=t.counter,this.highest_trans=t.highest_trans)})),s=new Map([[c,{kind:"struct",fields:[["counter","u32"],["highest_trans","u64"]]}]]),o=i.serialize(s,new c).length},232:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return o}));var r=n(207),a=n.n(r),i=a.a.resolve(e,"../../dist/program");console.log("PROGRAM_PATH,PROGRAM_PATH",i);a.a.join(i,"helloworld-keypair.json");var c=a.a.join(i,"helloworld.so"),s=a.a.resolve(e,"solana-wallet"),o=a.a.join(s,"keypair.json")}).call(this,"/")},238:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(305),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return r.blob(32,e)},i=r.struct([r.u8("is_initialized"),a("initializer_pubkey"),a("initializer_mortgage_token_account_pubkey"),a("initializer_token_to_receive_account_pubkey")])},264:function(e,t,n){"use strict";n.r(t),n.d(t,"getDefaultAccount",(function(){return c}));var r=n(9),a=n(54),i=n.n(a),c=function(){var e=i.a.decode("3WtaDTy4jTUWSaMXudnDaxJ4xEhmr8fm6Ht9doXTgHLjN9Yfh5BrioseyKiNXvyTBeML9h8naN6dTKYz6zkD1MRG");return r.Keypair.fromSecretKey(e)}},364:function(e){e.exports=JSON.parse('{"version":"0.1.0","name":"s3_dapp_solana","instructions":[{"name":"signupUser","accounts":[{"name":"userAccount","isMut":true,"isSigner":true},{"name":"authority","isMut":false,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"name","type":"string"},{"name":"avatar","type":"string"}]},{"name":"updateUser","accounts":[{"name":"userAccount","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true}],"args":[{"name":"name","type":"string"},{"name":"avatar","type":"string"}]},{"name":"initFeedback","accounts":[{"name":"feedbackAccount","isMut":true,"isSigner":true},{"name":"genesisPostAccount","isMut":true,"isSigner":true},{"name":"authority","isMut":false,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"createPost","accounts":[{"name":"postAccount","isMut":true,"isSigner":true},{"name":"userAccount","isMut":true,"isSigner":false},{"name":"feedbackAccount","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"title","type":"string"},{"name":"content","type":"string"}]},{"name":"updatePost","accounts":[{"name":"postAccount","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true}],"args":[{"name":"title","type":"string"},{"name":"content","type":"string"}]}],"accounts":[{"name":"UserState","type":{"kind":"struct","fields":[{"name":"name","type":"string"},{"name":"avatar","type":"string"},{"name":"authority","type":"publicKey"}]}},{"name":"FeedbackState","type":{"kind":"struct","fields":[{"name":"currentPostKey","type":"publicKey"},{"name":"authority","type":"publicKey"}]}},{"name":"PostState","type":{"kind":"struct","fields":[{"name":"title","type":"string"},{"name":"content","type":"string"},{"name":"user","type":"publicKey"},{"name":"prePostKey","type":"publicKey"},{"name":"authority","type":"publicKey"}]}}],"events":[{"name":"PostEvent","fields":[{"name":"label","type":"string","index":false},{"name":"postId","type":"publicKey","index":false},{"name":"nextPostId","type":{"option":"publicKey"},"index":false}]}],"metadata":{"address":"7Dxt825Do6FqABHZrUdDufNDGSGN6LETMPryXNWowMD4"}}')},406:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"establishConnection",(function(){return S})),n.d(t,"establishPayer",(function(){return T})),n.d(t,"checkProgram",(function(){return K})),n.d(t,"reportGreetings",(function(){return R})),n.d(t,"withdrawToWallet",(function(){return _})),n.d(t,"withdrawTokenToWallet",(function(){return W})),n.d(t,"depositFromWallet",(function(){return B}));var r,a,i,c,s=n(10),o=n(1),u=n.n(o),l=n(9),b=n(23),d=n(500),p=n.n(d),f=n(93),j=n(49),h=n.n(j),m=n(81),g=n(57),y=n(60),x=n(61),O=n(209),v=n(42),k=n(232),w=n(3);function S(){return P.apply(this,arguments)}function P(){return(P=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new l.Connection(Object(l.clusterApiUrl)("devnet")),e.next=3,a.getVersion();case 3:t=e.sent,console.log("Connection to cluster established:",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return A.apply(this,arguments)}function A(){return(A=Object(s.a)(u.a.mark((function e(){var t,n,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=0,c){e.next=18;break}return e.next=4,a.getRecentBlockhash();case 4:return n=e.sent,r=n.feeCalculator,e.t0=t,e.next=9,a.getMinimumBalanceForRentExemption(O.a);case 9:return t=e.t0+=e.sent,t+=100*r.lamportsPerSignature,e.next=13,Object(v.d)();case 13:return c=e.sent,e.next=16,a.getBalance(c.publicKey);case 16:i=e.sent,console.log("Using account",c.publicKey.toBase58(),"containing",i/l.LAMPORTS_PER_SOL,"SOL to pay for fees");case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(){return M.apply(this,arguments)}function M(){return(M=Object(s.a)(u.a.mark((function e(){var t,n,s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new l.PublicKey("79zQmhDa9ZR4E5gtKrLZnuHyVcXwPBkgGz4yE7fYQrZ3"),console.log("programId",r),e.next=4,a.getAccountInfo(r);case 4:if(null!==(t=e.sent)){e.next=13;break}if(!p.a.existsSync(k.b)){e.next=10;break}throw new Error("Program needs to be deployed with `solana program deploy dist/program/helloworld.so`");case 10:throw new Error("Program needs to be built and deployed");case 11:e.next=15;break;case 13:if(t.executable){e.next=15;break}throw new Error("Program is not executable");case 15:return console.log("Using program ".concat(r.toBase58())),n="hello",e.next=19,l.PublicKey.createWithSeed(c.publicKey,n,r);case 19:return i=e.sent,e.next=22,a.getAccountInfo(i);case 22:if(null!==e.sent){e.next=31;break}return console.log("Creating account",i.toBase58(),"to say hello to"),e.next=27,a.getMinimumBalanceForRentExemption(O.a);case 27:return s=e.sent,o=(new l.Transaction).add(l.SystemProgram.createAccountWithSeed({fromPubkey:c.publicKey,basePubkey:c.publicKey,seed:n,newAccountPubkey:i,lamports:s,space:O.a,programId:r})),e.next=31,Object(l.sendAndConfirmTransaction)(a,o,[c]);case 31:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return C.apply(this,arguments)}function C(){return(C=Object(s.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getAccountInfo(i);case 2:if(null!==(t=e.sent)){e.next=5;break}throw"Error: cannot find the greeted account";case 5:n=f.deserialize(O.c,O.b,t.data),console.log("S3 program has been greeted",n.counter,"time(s)"),console.log("the highest transaction of program is: ",n.highest_trans/l.LAMPORTS_PER_SOL);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=function(){var t=Object(s.a)(u.a.mark((function t(n,a){var c,s,o,b,d;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=new l.Connection(Object(l.clusterApiUrl)("devnet")),s=m.a.getDefaultAccount(),console.log("buffer here",e.from(new h.a(a*l.LAMPORTS_PER_SOL).toArray("le",8))),o=new l.TransactionInstruction({keys:[{pubkey:i,isSigner:!1,isWritable:!0}],programId:r,data:e.from(new h.a(a*l.LAMPORTS_PER_SOL).toArray("le",8))}),b="",t.prev=5,d=(new l.Transaction).add(o,l.SystemProgram.transfer({fromPubkey:s.publicKey,toPubkey:n,lamports:a*l.LAMPORTS_PER_SOL})),t.next=9,c.sendTransaction(d,[s]);case 9:return b=t.sent,g.b.info(Object(w.jsx)(y.a,{signature:b,message:"Transaction sent:"}),x.a),t.next=13,c.confirmTransaction(b,"processed");case 13:g.b.success(Object(w.jsx)(y.a,{signature:b,message:"Transaction successful!"}),x.a),setTimeout((function(){R()}),2e3),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(5),g.b.error(Object(w.jsx)(y.a,{signature:b,message:"Transaction failed! ".concat(null===t.t0||void 0===t.t0?void 0:t.t0.message)}),x.a);case 20:case"end":return t.stop()}}),t,null,[[5,17]])})));return function(e,n){return t.apply(this,arguments)}}(),W=function(){var e=Object(s.a)(u.a.mark((function e(t,n){var r,a,i,c,s,o,d,p;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new l.Connection(Object(l.clusterApiUrl)("devnet")),a=m.a.getDefaultAccount(),i=new l.PublicKey("6Mdq1QmqbWLejtSsvHVXc5HtTkztVTHgdb2EJUtCMRMq"),c=new b.Token(r,i,b.TOKEN_PROGRAM_ID,a),e.next=6,c.getOrCreateAssociatedAccountInfo(a.publicKey);case 6:return s=e.sent,e.next=9,c.getOrCreateAssociatedAccountInfo(t);case 9:return o=e.sent,d="",e.prev=11,p=(new l.Transaction).add(b.Token.createTransferInstruction(b.TOKEN_PROGRAM_ID,s.address,o.address,a.publicKey,[],n*l.LAMPORTS_PER_SOL)),e.next=15,r.sendTransaction(p,[a]);case 15:return d=e.sent,g.b.info(Object(w.jsx)(y.a,{signature:d,message:"Transaction sent:"}),x.a),e.next=19,r.confirmTransaction(d,"processed");case 19:g.b.success(Object(w.jsx)(y.a,{signature:d,message:"Transaction successful!"}),x.a),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(11),g.b.error(Object(w.jsx)(y.a,{signature:d,message:"Transaction failed! ".concat(null===e.t0||void 0===e.t0?void 0:e.t0.message)}),x.a);case 25:case"end":return e.stop()}}),e,null,[[11,22]])})));return function(t,n){return e.apply(this,arguments)}}(),B=function(){var e=Object(s.a)(u.a.mark((function e(t,n,r,a){var i,c,s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=m.a.getDefaultAccount(),c="",e.prev=2,s=(new l.Transaction).add(l.SystemProgram.transfer({fromPubkey:t,toPubkey:i.publicKey,lamports:n*l.LAMPORTS_PER_SOL})),e.next=6,a(s,r);case 6:return c=e.sent,g.b.info(Object(w.jsx)(y.a,{signature:c,message:"Transaction sent:"}),x.a),e.next=10,r.confirmTransaction(c,"processed");case 10:return o=e.sent,g.b.success(Object(w.jsx)(y.a,{signature:c,message:"Transaction successful!"}),x.a),e.abrupt("return",o);case 15:e.prev=15,e.t0=e.catch(2),g.b.error(Object(w.jsx)(y.a,{signature:c,message:"Transaction failed! ".concat(null===e.t0||void 0===e.t0?void 0:e.t0.message)}),x.a);case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t,n,r,a){return e.apply(this,arguments)}}()}.call(this,n(15).Buffer)},42:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"f",(function(){return j})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return g})),n.d(t,"g",(function(){return y})),n.d(t,"e",(function(){return x}));var r=n(10),a=n(1),i=n.n(a),c=n(232),s=n(9),o=n(54),u=n.n(o),l=n(364),b=n(143),d=Object(s.clusterApiUrl)("devnet"),p=new s.PublicKey(l.metadata.address),f=new s.Connection(d,"confirmed"),j=new s.PublicKey("6Mdq1QmqbWLejtSsvHVXc5HtTkztVTHgdb2EJUtCMRMq");function h(){return m.apply(this,arguments)}function m(){return(m=Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,console.log("PAYER_KEYPAIR_PATH",c.a),c.a){e.next=4;break}throw new Error("Missing keypair path");case 4:return t=u.a.decode("36D5r7zcXDMW4d6fd7CqWRP3Fi4eurPP5spkiYqMXKLHo8RXWcdrQzQCLN7U7ZVveSJ43YJjdBCpiUm5dHUhrxjv"),e.next=7,s.Keypair.fromSecretKey(t);case 7:return e.abrupt("return",e.sent);case 10:return e.prev=10,e.t0=e.catch(0),console.error("Failed to create keypair from CLI config file, falling back to new random keypair",e.t0),e.abrupt("return",s.Keypair.generate());case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}new Map;var g=function(){var e=Object(r.a)(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.PublicKey.findProgramAddress(t,n);case 2:return r=e.sent,e.abrupt("return",[r[0].toBase58(),r[1]]);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function x(e){return new b.a(l,p,e)}},505:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return S}));var r=n(13),a=n(7),i=n(10),c=n(1),s=n.n(c),o=n(93),u=n(54),l=n.n(u),b=n(23),d=n(506),p=n.n(d),f=n(49),j=n.n(f),h=n(42),m=n(154),g=n(9),y=new g.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),x=new g.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),O=new g.PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),v={token:y,associatedToken:x,metadata:"metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s",memo:O},k=new g.PublicKey("HvwC9QSAzvGXhhVrgPmauVwFWcYZhne3hVot9EbHuFTm"),w="manifest.json";o.BinaryReader.prototype.readPubkey=function(){var e=this.readFixedArray(32);return new g.PublicKey(e)},o.BinaryWriter.prototype.writePubkey=function(e){this.writeFixedArray(e.toBuffer())},o.BinaryReader.prototype.readPubkeyAsString=function(){var e=this.readFixedArray(32);return l.a.encode(e)},o.BinaryWriter.prototype.writePubkeyAsString=function(e){this.writeFixedArray(l.a.decode(e))};var S=function(){var e=Object(i.a)(s.a.mark((function e(t,n,i,c,o,u){var l,d,p,f,x,O,k,S,M,R,C,_,W,B,I,E,N,F,L,z,D,U,H,V,G,q=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p=q.length>6&&void 0!==q[6]?q[6]:1,null!==n&&void 0!==n&&n.publicKey){e.next=3;break}return e.abrupt("return");case 3:return f={name:o.name,symbol:o.symbol,description:o.description,attributes:o.attributes,seller_fee_basis_points:o.sellerFeeBasisPoints,image:o.image,animation_url:o.animation_url,external_url:o.external_url,properties:Object(a.a)(Object(a.a)({},o.properties),{},{creators:null===(l=o.creators)||void 0===l?void 0:l.map((function(e){return{address:e.address,share:e.share}}))})},x=[].concat(Object(r.a)(c),[new File([JSON.stringify(f)],"metadata.json")]),e.next=7,P(n,x,o);case 7:return O=e.sent,k=O.instructions,S=O.signers,u(1),e.next=13,t.getMinimumBalanceForRentExemption(b.MintLayout.span);case 13:return M=e.sent,R=n.publicKey.toBase58(),C=Object(r.a)(k),_=Object(r.a)(S),W=T(C,n.publicKey,M,0,new g.PublicKey(R),new g.PublicKey(R),_).toBase58(),e.next=20,Object(h.c)([n.publicKey.toBuffer(),v.token.toBuffer(),new g.PublicKey(W).toBuffer()],v.associatedToken);case 20:return B=e.sent[0],A(C,new g.PublicKey(B),n.publicKey,n.publicKey,new g.PublicKey(W)),I=new m.b({symbol:o.symbol,name:o.name,uri:" ".repeat(64),sellerFeeBasisPoints:o.sellerFeeBasisPoints,creators:o.creators}),e.next=25,Object(m.d)(I,R,W,R,C,n.publicKey.toBase58());case 25:return E=e.sent,u(2),e.next=29,K(t,n,C,_);case 29:return N=e.sent,F=N.txid,u(3),e.prev=32,e.next=35,t.confirmTransaction(F,"max");case 35:u(4),e.next=40;break;case 38:e.prev=38,e.t0=e.catch(32);case 40:return e.next=42,t.getParsedConfirmedTransaction(F,"confirmed");case 42:return u(5),L=new FormData,z=x.reduce((function(e,t){return e[t.name]=[{name:"mint",value:W}],e}),{}),L.append("tags",JSON.stringify(z)),L.append("transaction",F),x.map((function(e){return L.append("file[]",e)})),e.next=50,fetch("https://us-central1-principal-lane-200702.cloudfunctions.net/uploadFile2",{method:"POST",body:L});case 50:return e.next=52,e.sent.json();case 52:if(D=e.sent,U=null===(d=D.messages)||void 0===d?void 0:d.find((function(e){return e.filename===w})),H="https://arweave.net/".concat(U.transactionId),null===U||void 0===U||!U.transactionId){e.next=68;break}return V=[],G=[],e.next=60,Object(m.e)(new m.b({name:o.name,symbol:o.symbol,uri:H,creators:o.creators,sellerFeeBasisPoints:o.sellerFeeBasisPoints}),void 0,void 0,W,R,V,E);case 60:return u(6),V.push(b.Token.createMintToInstruction(y,new g.PublicKey(W),new g.PublicKey(B),new g.PublicKey(R),[],1)),u(7),e.next=65,Object(m.c)(new j.a(p),W,R,R,R,V);case 65:return u(8),e.next=68,K(t,n,V,G);case 68:return e.abrupt("return",{metadataAccount:E,arweaveLink:H,mintKey:W,account:B});case 69:case"end":return e.stop()}}),e,null,[[32,38]])})));return function(t,n,r,a,i,c){return e.apply(this,arguments)}}(),P=function(){var t=Object(i.a)(s.a.mark((function t(n,r,a){var i,c,o,u,l,b;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=v.memo,c=[],o=[],n.publicKey&&c.push(g.SystemProgram.transfer({fromPubkey:n.publicKey,toPubkey:k,lamports:1e8})),u=0;case 5:if(!(u<r.length)){t.next=17;break}return l=p.a.createHash("sha256"),t.t0=l,t.next=10,r[u].text();case 10:t.t1=t.sent,t.t0.update.call(t.t0,t.t1),b=l.digest("hex"),c.push(new g.TransactionInstruction({keys:[],programId:i,data:e.from(b)}));case 14:u++,t.next=5;break;case 17:return t.abrupt("return",{instructions:c,signers:o});case 18:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}();function T(e,t,n,r,a,i,c){var s=function(e,t,n,r){var a=g.Keypair.generate();return e.push(g.SystemProgram.createAccount({fromPubkey:t,newAccountPubkey:a.publicKey,lamports:n,space:b.MintLayout.span,programId:y})),r.push(a),a.publicKey}(e,t,n,c);return e.push(b.Token.createInitMintInstruction(y,s,r,a,i)),s}function A(t,n,r,a,i){var c=[{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:g.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:v.token,isSigner:!1,isWritable:!1},{pubkey:g.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];t.push(new g.TransactionInstruction({keys:c,programId:v.associatedToken,data:e.from([])}))}var K=function(){var e=Object(i.a)(s.a.mark((function e(t,n,a,i){var c,o,u,l,b,d,p,f,j,h,m,y=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=y.length>4&&void 0!==y[4]?y[4]:"singleGossip",o=y.length>5&&void 0!==y[5]&&y[5],u=y.length>6?y[6]:void 0,l=y.length>7?y[7]:void 0,b=new g.Transaction,a.forEach((function(e){return b.add(e)})),e.t0=u,e.t0){e.next=11;break}return e.next=10,t.getRecentBlockhash(c);case 10:e.t0=e.sent;case 11:if(b.recentBlockhash=e.t0.blockhash,o?(d=b).setSigners.apply(d,Object(r.a)(i.map((function(e){return e.publicKey})))):(p=b).setSigners.apply(p,[n.publicKey].concat(Object(r.a)(i.map((function(e){return e.publicKey}))))),i.length>0&&(f=b).partialSign.apply(f,Object(r.a)(i)),o){e.next=18;break}return e.next=17,n.signTransaction(b);case 17:b=e.sent;case 18:return l&&l(),e.next=21,R({connection:t,signedTransaction:b});case 21:return j=e.sent,h=j.txid,m=j.slot,e.abrupt("return",{txid:h,slot:m});case 25:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),M=function(){return(new Date).getTime()/1e3};function R(e){return C.apply(this,arguments)}function C(){return(C=Object(i.a)(s.a.mark((function e(t){var n,r,a,c,o,u,l,b,d,p;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.signedTransaction,r=t.connection,a=t.timeout,c=void 0===a?15e3:a,o=n.serialize(),u=M(),l=0,e.next=6,r.sendRawTransaction(o,{skipPreflight:!0});case 6:return b=e.sent,console.log("Started awaiting confirmation for",b),d=!1,Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d||!(M()-u<c)){e.next=6;break}return r.sendRawTransaction(o,{skipPreflight:!0}),e.next=4,Object(h.g)(500);case 4:e.next=0;break;case 6:case"end":return e.stop()}}),e)})))(),e.prev=10,e.next=13,_(b,c,r,"recent",!0);case 13:if(p=e.sent){e.next=16;break}throw new Error("Timed out awaiting confirmation on transaction");case 16:if(!p.err){e.next=19;break}throw console.error(p.err),new Error("Transaction failed: Custom instruction error");case 19:l=(null===p||void 0===p?void 0:p.slot)||0,e.next=24;break;case 22:e.prev=22,e.t0=e.catch(10);case 24:return e.prev=24,d=!0,e.finish(24);case 27:return console.log("Latency",b,M()-u),e.abrupt("return",{txid:b,slot:l});case 29:case"end":return e.stop()}}),e,null,[[10,22,24,27]])})))).apply(this,arguments)}function _(e,t,n){return W.apply(this,arguments)}function W(){return W=Object(i.a)(s.a.mark((function e(t,n,r){var a,c,o,u,l,b=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=b.length>3&&void 0!==b[3]?b[3]:"recent",c=b.length>4&&void 0!==b[4]&&b[4],o=!1,u={slot:0,confirmations:0,err:null},l=0,e.next=7,new Promise(function(){var e=Object(i.a)(s.a.mark((function e(b,d){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){o||(o=!0,console.log("Rejecting for timeout..."),d({timeout:!0}))}),n);try{l=r.onSignature(t,(function(e,t){o=!0,u={err:e.err,slot:t.slot,confirmations:0},e.err?(console.log("Rejected via websocket",e.err),d(u)):(console.log("Resolved via websocket",e),b(u))}),a)}catch(p){o=!0,console.error("WS error in setup",t,p)}case 2:if(o||!c){e.next=8;break}return Object(i.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.getSignatureStatuses([t]);case 3:n=e.sent,u=n&&n.value[0],o||(u?u.err?(console.log("REST error for",t,u),o=!0,d(u.err)):u.confirmations?(console.log("REST confirmation for",t,u),o=!0,b(u)):console.log("REST no confirmations for",t,u):console.log("REST null result for",t,u)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o||console.log("REST connection error: txid",t,e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))(),e.next=6,Object(h.g)(1e3);case 6:e.next=2;break;case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 7:return u=e.sent,r._signatureSubscriptions[l]&&r.removeSignatureListener(l),o=!0,console.log("Returning status",u),e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)}))),W.apply(this,arguments)}}).call(this,n(15).Buffer)},512:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return _}));var r=n(13),a=n(10),i=n(8),c=n(1),s=n.n(c),o=n(0),u=n(918),l=n(202),b=n(9),d=n(530),p=n(307),f=n(172),j=n(529),h=n(105),m=n(95),g=n(205),y=n(49),x=n.n(y),O=n(23),v=n(42),k=n(238),w=n(44),S=n(57),P=n(60),T=n(61),A=n(3),K=new b.PublicKey("xgiBYEpcRKnHb1TH6c9z4sSEP7CC2Gi8MRH2Y3AMU5a"),M=d.a.confirm,R=p.a.Text,C=p.a.Title,_=function(){var t=Object(l.b)(),n=t.sendTransaction,c=t.publicKey,d=Object(o.useState)(),p=Object(i.a)(d,2),y=(p[0],p[1]),_=Object(o.useState)(!1),W=Object(i.a)(_,2),B=W[0],I=W[1],E=Object(w.h)(),N=function(){var t=Object(a.a)(s.a.mark((function t(){var a,i,o,u,l,d,p,j,h,m;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c){t.next=2;break}return t.abrupt("return");case 2:return I(!0),t.next=5,O.Token.getAssociatedTokenAddress(O.ASSOCIATED_TOKEN_PROGRAM_ID,O.TOKEN_PROGRAM_ID,v.f,c);case 5:return a=t.sent,t.next=8,v.b.getAccountInfo(a,"confirmed");case 8:if(t.sent){t.next=13;break}return f.b.error("please get XMT token first"),I(!1),t.abrupt("return");case 13:return console.log("associated account XMT",a.toString()),i=new b.Keypair,t.t0=b.SystemProgram,t.t1=O.TOKEN_PROGRAM_ID,t.t2=O.AccountLayout.span,t.next=20,v.b.getMinimumBalanceForRentExemption(O.AccountLayout.span);case 20:return t.t3=t.sent,t.t4=c,t.t5=i.publicKey,t.t6={programId:t.t1,space:t.t2,lamports:t.t3,fromPubkey:t.t4,newAccountPubkey:t.t5},o=t.t0.createAccount.call(t.t0,t.t6),u=O.Token.createInitAccountInstruction(O.TOKEN_PROGRAM_ID,v.f,i.publicKey,c),l=O.Token.createTransferInstruction(O.TOKEN_PROGRAM_ID,a,i.publicKey,c,[],5*b.LAMPORTS_PER_SOL),d=new b.Keypair,console.log("gameRuleKeypair",d.publicKey.toString()),console.log("InitializerMortgageAccountKeypair",i.publicKey.toString()),t.t7=b.SystemProgram,t.t8=k.a.span,t.next=34,v.b.getMinimumBalanceForRentExemption(k.a.span);case 34:return t.t9=t.sent,t.t10=c,t.t11=d.publicKey,t.t12=K,t.t13={space:t.t8,lamports:t.t9,fromPubkey:t.t10,newAccountPubkey:t.t11,programId:t.t12},p=t.t7.createAccount.call(t.t7,t.t13),j=new b.TransactionInstruction({programId:K,keys:[{pubkey:c,isSigner:!0,isWritable:!1},{pubkey:i.publicKey,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:d.publicKey,isSigner:!1,isWritable:!0},{pubkey:b.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:O.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}],data:e.from(Uint8Array.of.apply(Uint8Array,[0].concat(Object(r.a)(new x.a(5).toArray("le",8)))))}),h="",t.prev=42,m=(new b.Transaction).add(o,u,l,p,j),console.log("Sending initialization transaction..."),console.log("Sending 5 XMT token to mortgage account..."),t.next=48,n(m,v.b,{signers:[i,d],skipPreflight:!1,preflightCommitment:"confirmed"});case 48:return h=t.sent,S.b.info(Object(A.jsx)(P.a,{signature:h,message:"Transaction sent:"}),T.a),t.next=52,Object(v.g)(3e3);case 52:I(!1),E("start",{state:{gameRulePubkey:d.publicKey.toString()}}),y(d.publicKey),t.next=60;break;case 57:t.prev=57,t.t14=t.catch(42),console.log("error");case 60:return t.prev=60,I(!1),t.finish(60);case 63:case"end":return t.stop()}}),t,null,[[42,57,60,63]])})));return function(){return t.apply(this,arguments)}}();return Object(A.jsx)(j.a,{size:"large",spinning:B,children:Object(A.jsx)(h.a,{style:{padding:15,paddingTop:50,paddingBottom:50,height:"100vh"},justify:"center",align:"middle",children:Object(A.jsxs)(m.a,{children:[Object(A.jsx)("div",{children:Object(A.jsxs)(C,{mark:!0,children:[" ","You need to mortgage ",5," XMT before you start game"]})}),Object(A.jsx)(h.a,{justify:"center",children:Object(A.jsx)(u.a,{variant:"contained",onClick:function(){M({title:Object(A.jsx)(R,{strong:!0,children:"Warning"}),icon:Object(A.jsx)(g.a,{}),content:"You must mortgage ".concat(5," XMT before starting the game"),okText:"Agree",onOk:function(){N()},onCancel:function(){console.log("Cancel")}})},children:"Init Game Rule"})})]})})})}}).call(this,n(15).Buffer)},513:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return I}));var r=n(13),a=n(10),i=n(8),c=n(1),s=n.n(c),o=n(202),u=n(9),l=n(530),b=n(307),d=n(95),p=n(105),f=n(172),j=n(529),h=n(369),m=n(919),g=n(111),y=n(49),x=n.n(y),O=n(0),v=n(23),k=n(42),w=n(238),S=n(264),P=n(44),T=n(77),A=n(57),K=n(60),M=n(61),R=n(3),C=new u.PublicKey("xgiBYEpcRKnHb1TH6c9z4sSEP7CC2Gi8MRH2Y3AMU5a"),_=l.a.confirm,W=b.a.Text,B=b.a.Title,I=function(){var t=Object(o.b)().publicKey,n=Object(S.getDefaultAccount)(),c=n.publicKey,l=Object(P.f)().state,b=Object(O.useState)(),y=Object(i.a)(b,2),I=y[0],E=y[1],N=Object(P.h)(),F=Object(O.useState)(!1),L=Object(i.a)(F,2),z=L[0],D=L[1],U=Object(O.useState)(!1),H=Object(i.a)(U,2),V=H[0],G=H[1];Object(O.useEffect)((function(){l.gameRulePubkey&&E(new u.PublicKey(null===l||void 0===l?void 0:l.gameRulePubkey))}),[l]);var q=Object(O.useState)(1),X=Object(i.a)(q,2),Y=X[0],J=X[1],Q=function(e,t){var n=1===Y?"Sorry":"Congratulation";_({icon:null,title:Object(R.jsx)(B,{level:3,children:n.toUpperCase()}),content:Object(R.jsxs)(d.a,{children:[Object(R.jsx)(p.a,{children:Object(R.jsxs)(W,{children:["You ",1===Y?"lose":"win"," ",Object(R.jsxs)(W,{type:1===Y?"danger":"success",children:[1===Y?"-":"+"," ",5," XMT"," "]}),"for the game"]})}),Object(R.jsx)(p.a,{children:Object(R.jsxs)(W,{strong:!0,children:["Old Balance:"," ",Object(R.jsxs)(W,{type:"warning",children:[e+5," XMT"]})]})}),Object(R.jsxs)(W,{strong:!0,children:["Current Balance:"," ",Object(R.jsxs)(W,{type:1===Y?"danger":"success",children:[t," XMT"]})]})]}),cancelButtonProps:{hidden:!0},okText:"Agree",onOk:function(){console.log("ok ok")}})},Z=function(){var o=Object(a.a)(s.a.mark((function a(){var o,l,b,d,p,j,h,m,g,y,O,S,P,_,W,B,E;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t&&I){a.next=2;break}return a.abrupt("return");case 2:return G(!0),o=1===Y?c:t,a.next=6,v.Token.getAssociatedTokenAddress(v.ASSOCIATED_TOKEN_PROGRAM_ID,v.TOKEN_PROGRAM_ID,k.f,n.publicKey);case 6:return l=a.sent,a.next=9,k.b.getAccountInfo(l,"confirmed");case 9:if(a.sent){a.next=14;break}return f.b.error("please get XMT token first"),G(!1),a.abrupt("return");case 14:return a.next=16,k.b.getAccountInfo(I);case 16:if(null!==(b=a.sent)){a.next=21;break}return f.b.error("Could not find game rule address!"),G(!1),a.abrupt("return");case 21:return d=b.data,p=w.a.decode(d),j={gameRuleAccountPubkey:I,isInitialized:!!p.is_initialized,initializerAccountPubkey:new u.PublicKey(p.initializer_pubkey),initializerMortgageAccountPubkey:new u.PublicKey(p.initializer_mortgage_token_account_pubkey),initializerTokenToReceiveAccountPubkey:new u.PublicKey(p.initializer_token_to_receive_account_pubkey)},a.next=26,u.PublicKey.findProgramAddress([e.from("escrow")],C);case 26:return h=a.sent,m=new u.TransactionInstruction({programId:C,data:e.from(Uint8Array.of.apply(Uint8Array,[1].concat(Object(r.a)(new x.a(5).toArray("le",8))))),keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:j.initializerMortgageAccountPubkey,isSigner:!1,isWritable:!0},{pubkey:j.initializerAccountPubkey,isSigner:!1,isWritable:!0},{pubkey:j.initializerTokenToReceiveAccountPubkey,isSigner:!1,isWritable:!0},{pubkey:I,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:v.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:h[0],isSigner:!1,isWritable:!1}]}),a.next=30,Promise.all([Object(T.c)(t),Object(T.c)(c)]);case 30:return g=a.sent,y=Object(i.a)(g,2),O=y[0],S=y[1],console.log("old balance",{player:O+5,host:S}),P="",a.prev=36,a.next=39,k.b.sendTransaction((new u.Transaction).add(m),[n],{skipPreflight:!1,preflightCommitment:"confirmed"});case 39:return P=a.sent,A.b.info(Object(R.jsx)(K.a,{signature:P,message:"Transaction sent:"}),M.a),a.next=43,Object(k.g)(3e3);case 43:return G(!1),a.next=46,k.b.getAccountInfo(I);case 46:if(a.t0=a.sent,null===a.t0){a.next=50;break}return f.b.error("game rule account has not been closed"),a.abrupt("return");case 50:return a.next=52,k.b.getAccountInfo(j.initializerMortgageAccountPubkey);case 52:if(a.t1=a.sent,null===a.t1){a.next=56;break}return f.b.error("initializer mortgage token account has not been closed"),a.abrupt("return");case 56:return a.next=58,Promise.all([Object(T.c)(t),Object(T.c)(c)]);case 58:_=a.sent,W=Object(i.a)(_,2),B=W[0],E=W[1],console.log("new balance",{player:B,host:E}),D(!0),Q(O,B),a.next=70;break;case 67:a.prev=67,a.t2=a.catch(36),console.log(a.t2);case 70:return a.prev=70,G(!1),a.finish(70);case 73:case"end":return a.stop()}}),a,null,[[36,67,70,73]])})));return function(){return o.apply(this,arguments)}}();return Object(R.jsx)(j.a,{size:"large",spinning:V,children:Object(R.jsx)(p.a,{style:{padding:15,paddingTop:50,paddingBottom:50},justify:"center",children:Object(R.jsxs)(d.a,{children:[Object(R.jsx)(h.a.Group,{onChange:function(e){J(e.target.value)},value:Y,children:Object(R.jsxs)(m.b,{direction:"vertical",children:[Object(R.jsx)(h.a,{value:1,children:"Set host is winner"}),Object(R.jsx)(h.a,{value:2,children:"Set player is winner"})]})}),Object(R.jsx)(p.a,{children:Object(R.jsx)(g.a,{style:{marginTop:10},onClick:Z,type:"primary",children:"Start game"})}),z&&Object(R.jsx)(p.a,{children:Object(R.jsx)(g.a,{style:{marginTop:10},onClick:function(){return N(-1)},danger:!0,children:"Get Back"})})]})})})}}).call(this,n(15).Buffer)},558:function(e,t){},559:function(e,t){},583:function(e,t){},584:function(e,t){},60:function(e,t,n){"use strict";n(0);var r=n(286),a=n.n(r),i=n(912),c=n(920),s=n(3),o=Object(i.a)({notification:{display:"flex",alignItems:"center",fontSize:14},link:{color:"#ffffff",marginLeft:20,display:"flex",alignItems:"center",textDecoration:"underline",fontSize:14,"&:hover":{color:"#777777"}},icon:{fontSize:20,marginLeft:8}});t.a=function(e){var t=o();return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("span",{className:t.notification,children:[e.message,e.signature&&Object(s.jsxs)(c.a,{className:t.link,href:"https://explorer.solana.com/tx/".concat(e.signature,"?cluster=devnet"),target:"_blank",children:["Transaction",Object(s.jsx)(a.a,{className:t.icon})]})]})})}},604:function(e,t){},605:function(e,t){},61:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={position:"bottom-left",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}},614:function(e,t){},615:function(e,t){},718:function(e,t){},720:function(e,t){},741:function(e,t){},743:function(e,t){},77:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return p}));var r=n(10),a=n(1),i=n.n(a),c=n(9),s=n(42),o=n(495),u=n.n(o),l=function(){var e=Object(r.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.b.getBalance(t);case 2:return n=e.sent,r=n/c.LAMPORTS_PER_SOL,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(r.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new c.PublicKey("6Mdq1QmqbWLejtSsvHVXc5HtTkztVTHgdb2EJUtCMRMq"),e.next=3,s.b.getParsedTokenAccountsByOwner(t,{mint:n});case 3:if(!((null===(r=e.sent)||void 0===r?void 0:r.value.length)>0)){e.next=6;break}return e.abrupt("return",null===r||void 0===r?void 0:r.value[0].account.data.parsed.info.tokenAmount.uiAmount);case 6:return e.abrupt("return",0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(e){if(e)return"".concat(e.slice(0,6),"...").concat(e.slice(e.length-6))},p=function(e){return c.Keypair.fromSeed((new TextEncoder).encode("".concat(s.a.toString().slice(0,15),"__").concat(e.toString().slice(0,15))))},f=function(e){return"https://gravatar.com/avatar/".concat(u()(e),"?s=400&d=robohash&r=x")}},771:function(e,t){},773:function(e,t){},778:function(e,t){},780:function(e,t){},787:function(e,t){},799:function(e,t){},802:function(e,t){},806:function(e,t,n){},81:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a}));var r={};n.r(r),n.d(r,"stakingConnection",(function(){return p})),n.d(r,"getStakeActivation",(function(){return j}));var a={};n.r(a),n.d(a,"buyNFT",(function(){return k}));var i,c=n(406),s=n(264),o=n(10),u=n(1),l=n.n(u),b=n(9),d=new b.Connection(Object(b.clusterApiUrl)("devnet"),"confirmed");function p(e,t,n){return f.apply(this,arguments)}function f(){return(f=Object(o.a)(l.a.mark((function e(t,n,r){var a,c,s,o,u,p,f,j,h;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=b.Keypair.generate(),a=new b.Authorized(t,t),c="",e.next=5,d.getMinimumBalanceForRentExemption(b.StakeProgram.space);case 5:return e.t0=e.sent,e.t1=r*b.LAMPORTS_PER_SOL,s=e.t0+e.t1,o=b.StakeProgram.createAccount({fromPubkey:t,authorized:a,lamports:s,lockup:new b.Lockup(0,0,t),stakePubkey:i.publicKey}),e.next=11,n(o,d,{signers:[i]});case 11:return c=e.sent,e.next=14,d.confirmTransaction(c,"confirmed");case 14:return e.next=16,d.getVoteAccounts();case 16:return u=e.sent,p=u.current.concat(u.delinquent)[0],f=new b.PublicKey(p.votePubkey),j=b.StakeProgram.delegate({stakePubkey:i.publicKey,authorizedPubkey:t,votePubkey:f}),e.next=22,n(j,d);case 22:return h=e.sent,e.next=25,d.confirmTransaction(h,"confirmed");case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var j=function(){var e=Object(o.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.getBalance(i.publicKey);case 2:return t=e.sent,console.log("Stake balance: ".concat(t)),e.next=6,d.getStakeActivation(i.publicKey);case 6:n=e.sent,console.log("Stake Stake: ".concat(n.state));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=n(23),m=n(57),g=n(60),y=n(61),x=n(3),O=new b.Connection(Object(b.clusterApiUrl)("devnet")),v=s.getDefaultAccount(),k=function(){var e=Object(o.a)(l.a.mark((function e(t,n,r){var a,i,c,s,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new h.Token(O,n,h.TOKEN_PROGRAM_ID,v),e.next=3,a.getOrCreateAssociatedAccountInfo(v.publicKey);case 3:return i=e.sent,e.next=6,a.getOrCreateAssociatedAccountInfo(t);case 6:return c=e.sent,s=(new b.Transaction).add(b.SystemProgram.transfer({fromPubkey:t,toPubkey:v.publicKey,lamports:.49*b.LAMPORTS_PER_SOL}),h.Token.createTransferInstruction(h.TOKEN_PROGRAM_ID,i.address,c.address,v.publicKey,[],1)),e.next=10,r(s,O,{signers:[v]});case 10:return o=e.sent,m.b.info(Object(x.jsx)(g.a,{signature:o,message:"Transaction sent:"}),y.a),e.next=14,O.confirmTransaction(o,"processed");case 14:m.b.success(Object(x.jsx)(g.a,{signature:o,message:"Transaction successful!"}),y.a);case 15:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},904:function(e,t,n){},905:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(50),c=n.n(i),s=n(164),o=n(44),u=n(10),l=n(1),b=n.n(l),d=n(307),p=n(172),f=n(105),j=n(95),h=n(998),m=n(1002),g=n(111),y=n(143),x=n(9),O=n(77),v=n(42),k=function(){var e=Object(u.a)(b.a.mark((function e(t,n,r){var a,i,c,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(O.d)(n),i=new y.b(v.b,t,{}),c=Object(v.e)(i),s=Object(O.a)(r),e.next=6,c.rpc.signupUser(r,s,{accounts:{authority:n,userAccount:a.publicKey,systemProgram:x.SystemProgram.programId},signers:[a]});case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),w=function(){var e=Object(u.a)(b.a.mark((function e(t,n,r){var a,i,c,s,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new y.b(v.b,t,{}),i=Object(v.e)(a),c=Object(O.a)(r),s=Object(O.d)(n),e.prev=4,e.next=7,i.rpc.updateUser(r,c,{accounts:{authority:n,userAccount:s.publicKey,systemProgram:x.SystemProgram.programId}});case 7:return o=e.sent,e.abrupt("return",o);case 11:e.prev=11,e.t0=e.catch(4);case 13:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,n,r){return e.apply(this,arguments)}}(),S=function(){var e=Object(u.a)(b.a.mark((function e(t){var n,r,a,i,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new y.b(v.b,t,{}),r=Object(v.e)(n),a=Object(O.d)(n.wallet.publicKey),e.next=5,r.account.userState.fetch(a.publicKey);case 5:return i=e.sent,c={id:a.publicKey.toString(),name:i.name,avatar:i.avatar},console.log("_user",i.authority.toString()),e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=n(979),T=n(110),A=n(197),K=Object(A.b)({name:"auth",initialState:{user:{id:"",name:"",avatar:""}},reducers:{saveUser:function(e,t){e.user=t.payload},clearUser:function(e){e.user={id:"",name:"",avatar:""}}}}),M=K.actions,R=M.saveUser,C=M.clearUser,_=K.reducer,W=n(3),B=d.a.Title,I=function(){var e=Object(P.a)(),t=Object(T.b)(),n=Object(T.c)((function(e){return e.auth.user})),r=function(){var t=Object(u.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,k(e,e.publicKey,n.username);case 4:a(),p.b.success("sign up success!!!");case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a=function(){var n=Object(u.a)(b.a.mark((function n(){var r;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,S(e);case 4:r=n.sent,t(R(r));case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return e?Object(W.jsx)(f.a,{style:{padding:15,paddingTop:50,paddingBottom:50},justify:"space-around",children:Object(W.jsx)(j.a,{span:24,xs:8,lg:10,md:10,children:n.name?Object(W.jsxs)(B,{level:1,children:["Welcome back ",n.name,", Have a good day \u2764\ufe0f"]}):Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(B,{level:2,children:"Sign Up"}),Object(W.jsxs)(h.a,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!0},onFinish:r,onFinishFailed:function(e){p.b.error("Failed: ".concat(e))},autoComplete:"off",layout:"vertical",children:[Object(W.jsx)(h.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(W.jsx)(m.a,{})}),Object(W.jsx)(h.a.Item,{children:Object(W.jsx)(g.a,{type:"primary",htmlType:"submit",children:"Signup"})})]})]})})}):Object(W.jsx)(f.a,{style:{padding:15,paddingTop:50,paddingBottom:50},justify:"space-around",children:Object(W.jsx)(j.a,{span:24,xs:8,lg:10,md:10,children:Object(W.jsx)(B,{level:1,children:"Please connect your wallet first"})})})},E=n(918),N=n(980),F=n(1012),L=n(986),z=function(){var e=Object(o.h)(),t=Object(o.f)().pathname;return console.log("pathname",t),Object(W.jsxs)(a.a.Fragment,{children:[Object(W.jsx)(N.a,{}),Object(W.jsx)(F.a,{maxWidth:"sm",children:Object(W.jsxs)(L.a,{sx:{minWidth:275,marginTop:10,justifyContent:"center"},direction:"row",spacing:2,children:[Object(W.jsx)(E.a,{variant:"/wallet/withdraw"===t?"contained":"outlined",onClick:function(){return e("withdraw")},children:"Withdraw"}),Object(W.jsx)(E.a,{variant:"/wallet/deposit"===t?"contained":"outlined",onClick:function(){return e("deposit")},children:"Deposit"})]})}),Object(W.jsx)(o.a,{})]})},D=n(8),U=n(1013),H=n(1017),V=n(1014),G=n(1015),q=n(1016),X=n(995),Y=n(1003),J=n(202),Q=n(57),Z=n(60),$=n(61),ee=n(81),te={sol:0,xmt:0},ne=function(){var e=Object(J.b)().publicKey,t=Object(r.useState)(te),n=Object(D.a)(t,2),i=n[0],c=n[1],s=Object(r.useState)(0),o=Object(D.a)(s,2),l=o[0],d=o[1],p=Object(r.useState)(""),f=Object(D.a)(p,2),j=f[0],h=f[1],m=Object(r.useState)(!1),g=Object(D.a)(m,2),y=g[0],x=(g[1],Object(r.useState)("SOL")),v=Object(D.a)(x,2),k=v[0],w=v[1],S=Object(T.c)((function(e){return e.auth.user}));function P(){return A.apply(this,arguments)}function A(){return(A=Object(u.a)(b.a.mark((function t(){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Object(O.b)(e);case 4:return n=t.sent,t.next=7,Object(O.c)(e);case 7:r=t.sent,c({sol:n,xmt:r});case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(r.useEffect)((function(){var e=function(){var e=Object(u.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.d.establishConnection();case 2:return e.next=4,ee.d.establishPayer();case 4:return e.next=6,ee.d.checkProgram();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(r.useEffect)((function(){e?P():c({sol:0,xmt:0})}),[e]);var K=Object(r.useCallback)(Object(u.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=3;break}return Q.b.error(Object(W.jsx)(Z.a,{message:"Wallet not connected!"}),$.a),t.abrupt("return");case 3:"SOL"===k?ee.d.withdrawToWallet(e,l).finally((function(){return P()})):ee.d.withdrawTokenToWallet(e,l).finally((function(){return P()}));case 4:case"end":return t.stop()}}),t)}))),[e,l,k]);return Object(W.jsxs)(a.a.Fragment,{children:[Object(W.jsx)(N.a,{}),Object(W.jsx)(F.a,{maxWidth:"sm",children:Object(W.jsxs)(U.a,{sx:{minWidth:300,marginTop:10},children:[Object(W.jsxs)(V.a,{children:[Object(W.jsx)(G.a,{gutterBottom:!0,variant:"h5",textAlign:"center",children:"Withdraw"}),Object(W.jsxs)(q.a,{fullWidth:!0,children:[Object(W.jsx)(X.a,{placeholder:S.name?"":"please connect your wallet",sx:{marginBottom:3},value:S.name||"",fullWidth:!0,id:"outlined-basic",disabled:!0,variant:"outlined",InputLabelProps:{shrink:!0},label:"wallet name"}),Object(W.jsx)(X.a,{placeholder:e?"":"please connect your wallet",sx:{marginBottom:3},value:e||"",fullWidth:!0,id:"outlined-basic",disabled:!0,variant:"outlined",InputLabelProps:{shrink:!0},label:"from address"}),Object(W.jsx)(X.a,{sx:{marginBottom:3},value:j,defaultValue:"",fullWidth:!0,id:"outlined-basic",disabled:y,onChange:function(e){h(e.target.value)},variant:"outlined",InputLabelProps:{shrink:!0},label:"to address"}),Object(W.jsxs)(X.a,{id:"outlined-select-currency",select:!0,value:k,onChange:function(e){w(e.target.value)},helperText:"Please select your currency",children:[Object(W.jsx)(Y.a,{value:"SOL",children:"SOL"},"SOL"),Object(W.jsx)(Y.a,{value:"XMT",children:"XMT"},"XMT")]}),Object(W.jsx)(X.a,{sx:{marginTop:2},fullWidth:!0,id:"outlined-basic",label:"amount",variant:"outlined",value:l,onChange:function(e){d(e.target.value)},defaultValue:0,type:"number"}),Object(W.jsxs)(G.a,{variant:"body2",color:"#33a382",children:[k," available"," ","SOL"===k?i.sol.toFixed(4):i.xmt.toFixed(4)]})]})]}),Object(W.jsx)(H.a,{sx:{marginBottom:2},children:Object(W.jsx)(E.a,{variant:"contained",color:"success",fullWidth:!0,size:"large",onClick:K,disabled:!e||!j,children:Object(W.jsx)(G.a,{variant:"body2",color:"#fff",children:"Apply"})})})]})})]})},re=n(501),ae=n.n(re),ie=n(504),ce=n.n(ie),se=n(1018),oe=n(994),ue=n(503),le=n(502),be={sol:0,xmt:0};var de=function(){var e=Object(J.b)(),t=e.publicKey,n=e.sendTransaction,i=Object(ue.b)().connection,c=function(){var e,t=Object(r.useState)(be),n=Object(D.a)(t,2),a=n[0],i=n[1],c=Object(ue.b)().connection,s=Object(J.b)().publicKey,o=Object(r.useCallback)(Object(u.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=8;break}return e.next=3,Object(O.b)(s);case 3:return t=e.sent,e.next=6,Object(O.c)(s);case 6:n=e.sent,i({sol:t,xmt:n});case 8:case"end":return e.stop()}}),e)}))),[s,c]);return Object(r.useEffect)((function(){return s&&(e=setInterval(o,1e3)),function(){return clearInterval(e)}}),[o,s]),{balance:a}}(),s=c.balance,o=Object(r.useState)(!1),l=Object(D.a)(o,2),d=l[0],p=l[1],f=Object(r.useState)(0),j=Object(D.a)(f,2),h=j[0],m=(j[1],Object(r.useState)("SOL")),g=Object(D.a)(m,2);g[0],g[1],Object(T.c)((function(e){return e.auth.user}));console.log("balance",s);Object(r.useCallback)((function(){t?ee.d.depositFromWallet(t,h,i,n):Q.b.error(Object(W.jsx)(Z.a,{message:"Wallet not connected!"}),$.a)}),[t,h,i,n]);return Object(W.jsxs)(a.a.Fragment,{children:[Object(W.jsx)(N.a,{}),Object(W.jsx)(F.a,{maxWidth:"sm",children:Object(W.jsx)(U.a,{sx:{minWidth:250,marginTop:10},children:Object(W.jsxs)(L.a,{sx:{justifyContent:"center",alignItems:"center"},direction:"row",children:[Object(W.jsxs)(V.a,{style:{width:"45%"},children:[Object(W.jsx)(ae.a,{value:(null===t||void 0===t?void 0:t.toString())||"",style:{width:"100%",height:200}}),Object(W.jsxs)(L.a,{direction:"row",spacing:1,marginTop:2,children:[Object(W.jsx)(X.a,{id:"outlined-read-only-input",label:"your address",value:Object(O.e)((null===t||void 0===t?void 0:t.toString())||""),defaultValue:"",style:{width:190},InputProps:{readOnly:!0},InputLabelProps:{shrink:!0}}),Object(W.jsx)(L.a,{justifyContent:"center",alignItems:"center",children:Object(W.jsx)(le.CopyToClipboard,{text:(null===t||void 0===t?void 0:t.toString())||"",onCopy:function(){p(!0),setTimeout((function(){return p(!1)}),2e3)},children:Object(W.jsx)(oe.a,{title:d?"Copied":"Copy",children:Object(W.jsx)(se.a,{children:Object(W.jsx)(ce.a,{})})})})})]})]}),Object(W.jsxs)(V.a,{children:[Object(W.jsx)(G.a,{variant:"h5",textAlign:"center",children:"Your balance!"}),Object(W.jsx)(G.a,{textAlign:"center",color:"#33a382",children:s.sol?"Solana: "+s.sol.toFixed(5)+" SOL":"Loading.."}),Object(W.jsx)(G.a,{textAlign:"center",color:"#33a382",children:s.xmt?"X-Mas Token:"+s.xmt+" XMT":"Loading.."})]})]})})})]})},pe=n(1007),fe=n(912),je=n(920),he=n(286),me=n.n(he),ge=n(198),ye=Object(fe.a)({notification:{display:"flex",alignItems:"center"},link:{color:"#ffffff",display:"flex",alignItems:"center",marginLeft:16,textDecoration:"underline","&:hover":{color:"#000000"}},icon:{fontSize:20,marginLeft:8}});function xe(){var e=ye(),t=Object(ge.b)().enqueueSnackbar;return Object(r.useCallback)((function(n,r,a){t(Object(W.jsxs)("span",{className:e.notification,children:[r,a&&Object(W.jsxs)(je.a,{className:e.link,href:"https://explorer.solana.com/tx/".concat(a,"?cluster=devnet"),target:"_blank",children:["Transaction",Object(W.jsx)(me.a,{className:e.icon})]})]}),{variant:n})}),[t,e])}var Oe=function(){var e=Object(ue.b)().connection,t=Object(J.b)().publicKey;console.log("publicKey",!t);var n=xe(),a=Object(r.useCallback)(Object(u.a)(b.a.mark((function n(){var r;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=3;break}return Q.b.error(Object(W.jsx)(Z.a,{message:"Wallet not connected!"}),$.a),n.abrupt("return");case 3:return r="",n.prev=4,n.next=7,e.requestAirdrop(t,x.LAMPORTS_PER_SOL);case 7:return r=n.sent,Q.b.info(Object(W.jsx)(Z.a,{signature:r,message:"Airdrop requested"}),$.a),n.next=11,e.confirmTransaction(r,"processed");case 11:Q.b.success(Object(W.jsx)(Z.a,{signature:r,message:"Airdrop successful!"}),$.a),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(4),Q.b.error(Object(W.jsx)(Z.a,{signature:r,message:"Airdrop failed! ".concat(null===n.t0||void 0===n.t0?void 0:n.t0.message)}),$.a);case 17:case"end":return n.stop()}}),n,null,[[4,14]])}))),[t,n,e]);return Object(W.jsx)(pe.a,{variant:"contained",color:"secondary",onClick:a,disabled:!t,children:"Request Airdrop"})},ve=function(){return Object(W.jsxs)(a.a.Fragment,{children:[Object(W.jsx)(N.a,{}),Object(W.jsx)(F.a,{maxWidth:"sm",children:Object(W.jsx)(L.a,{sx:{minWidth:275,marginTop:10,justifyContent:"center"},direction:"row",spacing:2,children:Object(W.jsx)(Oe,{})})})]})},ke=n(25),we=n(7),Se=n(505),Pe=n(154),Te=n(996),Ae=n(1005),Ke=n(529),Me=n(997),Re=n(999),Ce=n(919),_e=n(132),We=n(1025),Be=n(524),Ie=(n(805),n(806),Te.a.Dragger),Ee=d.a.Text,Ne=Ae.a.Step,Fe=function(){var e=Object(J.b)(),t=e.publicKey,n=Object(r.useState)(),a=Object(D.a)(n,2),i=a[0],c=a[1],s=Object(r.useState)(),o=Object(D.a)(s,2),l=o[0],d=o[1],y=Object(r.useState)(!1),O=Object(D.a)(y,2),k=O[0],w=O[1],S=Object(r.useState)(0),P=Object(D.a)(S,2),T=P[0],A=P[1],K=h.a.useForm(),M=Object(D.a)(K,1)[0],R=Object(r.useState)({name:"",symbol:"",description:"",external_url:"",image:"",animation_url:void 0,attributes:void 0,creators:[],seller_fee_basis_points:0,properties:{files:[],category:"image"}}),C=Object(D.a)(R,2),_=C[0],B=C[1],I=function(e,t){return e===t?Object(W.jsx)(_e.a,{}):null},E=function(){var n=Object(u.a)(b.a.mark((function n(r){var a,c,s,o;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("mintNFTHandler got called"),e&&t){n.next=4;break}return p.b.error("Please connect your wallet!"),n.abrupt("return");case 4:if(i){n.next=7;break}return p.b.error("Please enter your image!"),n.abrupt("return");case 7:return c=new x.PublicKey(t).toBase58(),s=new Pe.a({address:c,verified:!0,share:100}),o={name:_.name,symbol:_.symbol,creators:[s],description:_.description,sellerFeeBasisPoints:0,image:null===i||void 0===i?void 0:i.name,attributes:r||void 0,animation_url:"",external_url:"",properties:{files:_.properties.files,category:null===(a=_.properties)||void 0===a?void 0:a.category}},console.log("metadata",o),n.prev=11,w(!0),n.next=15,Object(Se.a)(v.b,e,"devnet",[i],o,A);case 15:p.b.success("NFT created successfully"),n.next=21;break;case 18:n.prev=18,n.t0=n.catch(11),w(!1);case 21:return n.prev=21,w(!1),n.finish(21);case 24:case"end":return n.stop()}}),n,null,[[11,18,21,24]])})));return function(e){return n.apply(this,arguments)}}();return Object(W.jsx)(W.Fragment,{children:Object(W.jsxs)(Ke.a,{size:"large",spinning:k,tip:Object(W.jsx)("div",{style:{marginTop:10,display:"flex",flexDirection:"column",alignItems:"center"},children:Object(W.jsx)(Me.a,{className:"dark-card",children:Object(W.jsxs)(Ae.a,{direction:"vertical",current:T,children:[Object(W.jsx)(Ne,{className:"white-description",title:"Minting",description:"Starting Mint Process",icon:I(T,0)}),Object(W.jsx)(Ne,{className:"white-description",title:"Preparing Assets",icon:I(T,1)}),Object(W.jsx)(Ne,{className:"white-description",title:"Signing Metadata Transaction",description:"Approve the transaction from your wallet",icon:I(T,2)}),Object(W.jsx)(Ne,{className:"white-description",title:"Sending Transaction to Solana",description:"This will take a few seconds.",icon:I(T,3)}),Object(W.jsx)(Ne,{className:"white-description",title:"Waiting for Initial Confirmation",icon:I(T,4)}),Object(W.jsx)(Ne,{className:"white-description",title:"Waiting for Final Confirmation",icon:I(T,5)}),Object(W.jsx)(Ne,{className:"white-description",title:"Uploading to Arweave",icon:I(T,6)}),Object(W.jsx)(Ne,{className:"white-description",title:"Updating Metadata",icon:I(T,7)}),Object(W.jsx)(Ne,{className:"white-description",title:"Signing Token Transaction",description:"Approve the final transaction from your wallet",icon:I(T,8)})]})})}),children:[Object(W.jsxs)(f.a,{style:{padding:15,paddingTop:50,paddingBottom:50},justify:"space-around",children:[Object(W.jsx)(j.a,{span:24,xs:8,lg:10,md:10,children:Object(W.jsxs)(Ie,{accept:".png,.jpg,.gif,.mp4,.svg",style:{padding:20,background:"rgba(255, 255, 255, 0.08)",maxHeight:300},multiple:!1,fileList:i?[i]:[],customRequest:function(e){var t;null===e||void 0===e||null===(t=e.onSuccess)||void 0===t||t.call(e,{},null)},onChange:function(){var e=Object(u.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.file.originFileObj,console.log("file",n),n){e.next=4;break}return e.abrupt("return");case 4:if(!((r=n.size/1024)<25)){e.next=8;break}return d("The file ".concat(n.name," is too small. It is ").concat(Math.round(10*r)/10,"KB but should be at least 25KB.")),e.abrupt("return");case 8:B(Object(we.a)(Object(we.a)({},_),{},{properties:Object(we.a)(Object(we.a)({},_.properties),{},{files:[n].map((function(e){return console.log(e,typeof e),{uri:"string"===typeof e?e:(null===e||void 0===e?void 0:e.name)||"",type:"string"!==typeof e&&e&&e.type||"unknown"}}))})})),c(n),d(void 0);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onDrop:function(e){console.log("Dropped files",e.dataTransfer.files)},children:[Object(W.jsx)("div",{className:"ant-upload-drag-icon",children:Object(W.jsx)("h3",{style:{fontWeight:700},children:"Upload your cover image (PNG, JPG, GIF, SVG)"})}),l?Object(W.jsx)(Ee,{type:"danger",children:l}):Object(W.jsx)("p",{className:"ant-upload-text",style:{color:"#6d6d6d"},children:"Drag and drop, or click to browse"})]})}),Object(W.jsxs)(j.a,{className:"section",span:24,xs:16,lg:12,md:12,children:[Object(W.jsxs)("label",{className:"action-field",children:[Object(W.jsx)("span",{className:"field-title",children:"Title"}),Object(W.jsx)(m.a,{autoFocus:!0,className:"input",style:{borderRadius:8,padding:10},placeholder:"Max 50 characters",maxLength:50,allowClear:!0,value:_.name,onChange:function(e){return B(Object(we.a)(Object(we.a)({},_),{},{name:e.target.value}))}})]}),Object(W.jsxs)("label",{className:"action-field",children:[Object(W.jsx)("span",{className:"field-title",children:"Symbol"}),Object(W.jsx)(m.a,{className:"input",placeholder:"Max 10 characters",maxLength:10,allowClear:!0,style:{borderRadius:8,padding:10},value:_.symbol,onChange:function(e){return B(Object(we.a)(Object(we.a)({},_),{},{symbol:e.target.value}))}})]}),Object(W.jsxs)("label",{className:"action-field",children:[Object(W.jsx)("span",{className:"field-title",children:"Description"}),Object(W.jsx)(m.a.TextArea,{className:"input textarea",placeholder:"Max 500 characters",maxLength:500,style:{borderRadius:8,padding:10,minHeight:100},value:_.description,onChange:function(e){return B(Object(we.a)(Object(we.a)({},_),{},{description:e.target.value}))},allowClear:!0})]}),Object(W.jsxs)("label",{className:"action-field",children:[Object(W.jsx)("span",{className:"field-title",children:"Maximum Supply"}),Object(W.jsx)(Re.a,{placeholder:"Quantity",style:{borderRadius:8,padding:10,width:"100%",height:50,display:"flex"},onChange:function(e){B(Object(we.a)(Object(we.a)({},_),{},{properties:Object(we.a)(Object(we.a)({},_.properties),{},{maxSupply:e})}))},className:"royalties-input"})]}),Object(W.jsx)("label",{className:"action-field",children:Object(W.jsx)("span",{className:"field-title",children:"Attributes"})}),Object(W.jsx)(h.a,{onChange:function(e){console.log("e",e)},name:"dynamic_attributes",form:M,autoComplete:"off",children:Object(W.jsx)(h.a.List,{name:"attributes",children:function(e,t){var n=t.add,r=t.remove;return Object(W.jsxs)(W.Fragment,{children:[e.map((function(e){var t=e.key,n=e.name;return Object(W.jsxs)(Ce.b,{align:"baseline",children:[Object(W.jsx)(h.a.Item,{name:[n,"trait_type"],hasFeedback:!0,children:Object(W.jsx)(m.a,{placeholder:"trait_type (Optional)"})}),Object(W.jsx)(h.a.Item,{name:[n,"value"],rules:[{required:!0,message:"Missing value"}],hasFeedback:!0,children:Object(W.jsx)(m.a,{placeholder:"value"})}),Object(W.jsx)(h.a.Item,{name:[n,"display_type"],hasFeedback:!0,children:Object(W.jsx)(m.a,{placeholder:"display_type (Optional)"})}),Object(W.jsx)(We.a,{onClick:function(){return r(n)}})]},t)})),Object(W.jsx)(h.a.Item,{children:Object(W.jsx)(g.a,{type:"dashed",onClick:function(){return n()},block:!0,icon:Object(W.jsx)(Be.a,{}),children:"Add attribute"})})]})}})})]})]}),Object(W.jsx)(f.a,{justify:"center",children:Object(W.jsx)(g.a,{size:"large",style:{width:"95%"},onClick:function(){M.validateFields().then((function(e){var t,n=e.attributes,r=Object(ke.a)(n||[]);try{for(r.s();!(t=r.n()).done;){var a=t.value,i=Number(a.value);isNaN(i)||(a.value=i)}}catch(c){r.e(c)}finally{r.f()}console.log("Adding NFT attributes:",n),B(Object(we.a)(Object(we.a)({},_),{},{attributes:n})),E(n)}))},type:"primary",children:"Mint NFT"})})]})})},Le=n(508),ze=n(40),De=n(1020),Ue=n(1019),He=n(1011),Ve=n(1028),Ge=n(1029),qe=n(1009),Xe=n(510),Ye=n.n(Xe),Je=n(24),Qe=n(99),Ze=n(1026),$e=n(1027),et=n(1001),tt=n(991),nt=n(291),rt=n(1006),at=n(523),it=["children","to"],ct=d.a.Title,st=d.a.Text,ot=Object(et.a)((function(e){return{navlinks:{display:"flex",flexGrow:"1",justifyContent:"center"},logo:{cursor:"pointer"},link:{textDecoration:"none",color:"#828693",fontSize:"20px",marginLeft:50,transition:"all 0.3s ease 0s","&:hover":{color:"#fff"}}}}));var ut=function(){var e=ot(),t=Object(Qe.a)(),n=Object(T.c)((function(e){return e.auth.user})),a=Object(P.a)(),i=Object(J.b)(),c=i.connected,l=(i.connecting,i.disconnecting),d=Object(T.b)(),p=Object(r.useState)(!1),f=Object(D.a)(p,2),j=f[0],y=f[1],x=function(){var e=Object(u.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,w(a,a.publicKey,t.username);case 4:return y(!1),e.next=7,v();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=Object(W.jsxs)(h.a,{autoComplete:"off",onFinish:x,onFinishFailed:function(e){console.log("Failed:",e)},children:[Object(W.jsx)(h.a.Item,{name:"username",children:Object(W.jsx)(m.a,{style:{width:200},placeholder:"enter your new username"})}),Object(W.jsx)(h.a.Item,{children:Object(W.jsx)(g.a,{style:{width:"100%"},type:"primary",htmlType:"submit",children:"Update"})})]}),v=function(){var e=Object(u.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,S(a);case 4:t=e.sent,d(R(t));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){c&&v()}),[c]),Object(r.useEffect)((function(){l&&d(C())}),[l]);var k=function(t){var n=t.children,r=t.to,a=Object(Je.a)(t,it),i=Object(o.i)(r),c=Object(o.g)({path:i.pathname,end:!0});return Object(W.jsx)("div",{children:Object(W.jsx)(s.b,Object(we.a)(Object(we.a)({style:{color:c?"#ffffff":"#828693"},to:r,className:e.link},a),{},{children:n}))})};return Object(W.jsx)(tt.a,{theme:t,children:Object(W.jsxs)(Ze.a,{position:"static",sx:{backgroundColor:"#131a35"},children:[Object(W.jsx)(N.a,{}),Object(W.jsxs)($e.a,{children:[Object(W.jsx)(ct,{level:2,style:{color:"#ffffff"},className:e.logo,children:"S3Corp"}),Object(W.jsxs)("div",{className:e.navlinks,children:[Object(W.jsx)(k,{to:"/wallet",children:"Wallet"}),Object(W.jsx)(k,{to:"/settings",children:"Settings"}),Object(W.jsx)(k,{to:"/createNFT/0",children:"Create NFT"}),Object(W.jsx)(k,{to:"/staking",children:"Staking"}),Object(W.jsx)(k,{to:"/metaplex",children:"Market"}),Object(W.jsx)(k,{to:"/gameplay",children:"Gameplay"}),Object(W.jsx)(k,{to:"/feedback",children:"Feedback"})]}),Object(W.jsxs)(W.Fragment,{children:[n&&Object(W.jsxs)("div",{style:{marginRight:5},children:[Object(W.jsx)(rt.a,{src:n.avatar,size:40,style:{backgroundColor:"#ffffff"}}),Object(W.jsx)(at.a,{onVisibleChange:function(e){y(e)},visible:j,placement:"bottom",content:O,trigger:"click",children:Object(W.jsx)(g.a,{type:"text",children:Object(W.jsx)(st,{strong:!0,style:{color:"#ffffff",textAlign:"center",marginLeft:5},children:n.name})})})]}),Object(W.jsx)(nt.b,{})]})]})]})})},lt=n(1010),bt=function(e){var t=e.displayNumber,n=Array(void 0===t?5:t);return console.log("list",n),Object(W.jsx)(W.Fragment,{children:[].concat(n).map((function(e,t){return Object(W.jsx)(qe.a,{item:!0,xs:6,lg:2.4,xl:2.4,children:Object(W.jsxs)(U.a,{sx:{maxWidth:345,bgcolor:"#282828",padding:2,borderRadius:2},children:[Object(W.jsx)(Ue.a,{avatar:Object(W.jsx)(lt.a,{animation:"wave",variant:"circular",width:50,height:50,sx:{bgcolor:"grey.800"}}),title:Object(W.jsx)(lt.a,{animation:"wave",height:15,width:"80%",sx:{bgcolor:"grey.800"}})}),Object(W.jsxs)(Ve.a,{children:[Object(W.jsx)(Ge.a,{component:"div",sx:{bgcolor:"#333333",borderRadius:3},children:Object(W.jsx)(lt.a,{sx:{height:140,width:250,bgcolor:"grey.800",borderRadius:3},animation:"wave",variant:"rectangular"})}),Object(W.jsxs)(V.a,{sx:{height:100},children:[Object(W.jsx)(lt.a,{height:15,style:{marginBottom:6},sx:{bgcolor:"grey.800"}}),Object(W.jsx)(lt.a,{sx:{bgcolor:"grey.800"},height:15,width:"80%"})]})]})]})},t)}))})},dt=function(){var e=Object(J.b)(),t=e.publicKey,n=e.sendTransaction,a=new Le.a("devnet"),i=Object(r.useState)([]),c=Object(D.a)(i,2),s=c[0],o=c[1],l=Object(r.useState)([]),d=Object(D.a)(l,2),p=d[0],f=d[1],j=Object(r.useState)(!1),h=Object(D.a)(j,2),m=h[0],g=h[1];function y(e){return Ye.a.get(e).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}var O=function(){var e=Object(u.a)(b.a.mark((function e(){var t,n,r,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,t=ee.a.getDefaultAccount(),e.next=5,ze.Metadata.findDataByOwner(a,t.publicKey);case 5:return n=e.sent,e.next=8,n.map((function(e){return e.data.uri}));case 8:return r=e.sent,e.next=11,Promise.all(r.map(y));case 11:i=e.sent,console.log("ownedMetadata",n),console.log("ownedFullMetadata",i),i&&(f(i),o(n)),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(e.t0);case 20:return e.prev=20,g(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[1,17,20,23]])})));return function(){return e.apply(this,arguments)}}(),v=function(e){var r=e.item;return Object(W.jsxs)(U.a,{sx:{maxWidth:345,bgcolor:"#282828",pr:2,pl:2,borderRadius:2},children:[Object(W.jsx)(Ue.a,{avatar:Object(W.jsx)(He.a,{alt:"SOLANA",src:"https://vectorlogo4u.com/wp-content/uploads/2021/09/solana-logo-vector-01.png",sx:{width:56,height:56}}),title:Object(W.jsx)(G.a,{sx:{fontSize:18,color:"#ffffff",fontWeight:600},component:"div",children:r.symbol})}),Object(W.jsxs)(Ve.a,{children:[Object(W.jsx)(Ge.a,{component:"div",sx:{bgcolor:"#333333",borderRadius:3},children:Object(W.jsx)(De.a,{sx:{borderRadius:3},width:250,height:140,component:"img",image:r.image,alt:"failed"})}),Object(W.jsxs)(V.a,{sx:{height:130},children:[Object(W.jsx)(G.a,{gutterBottom:!0,sx:{fontSize:24,color:"#ffffff",fontWeight:600,display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical",WebkitLineClamp:1},component:"div",children:r.name}),Object(W.jsx)(G.a,{gutterBottom:!0,sx:{fontSize:16,color:"grey.500",fontWeight:400,display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical",WebkitLineClamp:2},component:"div",children:null===r||void 0===r?void 0:r.description}),Object(W.jsxs)(L.a,{direction:"row",spacing:1,children:[Object(W.jsx)(G.a,{sx:{fontSize:16,color:"#fff",fontWeight:400},component:"div",children:"0.49 SOL"}),Object(W.jsx)(G.a,{sx:{fontSize:14,color:"grey.500",fontWeight:400},component:"div",children:"$73.68"})]})]})]}),Object(W.jsx)(H.a,{children:Object(W.jsx)(E.a,{onClick:function(){return function(e){var r;if(t){var a=null===(r=s.find((function(t){return t.data.symbol===e})))||void 0===r?void 0:r.mint,i=new x.PublicKey(a||"");ee.b.buyNFT(t,i,n)}else Q.b.error(Object(W.jsx)(Z.a,{message:"Wallet not connected!"}),$.a)}(r.symbol)},variant:"outlined",color:"success",size:"medium",sx:{marginTop:1},children:Object(W.jsx)(G.a,{sx:{fontSize:14,fontWeight:500},children:"Buy"})})})]})};return Object(r.useEffect)((function(){O()}),[]),Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(N.a,{}),Object(W.jsx)(F.a,{maxWidth:"xl",sx:{pt:3,display:"flex"},children:Object(W.jsxs)(qe.a,{container:!0,spacing:3,children:[p.map((function(e,t){return Object(W.jsx)(qe.a,{item:!0,xs:6,lg:2.4,xl:2.4,children:Object(W.jsx)(v,{item:e})},t)})),m&&Object(W.jsx)(bt,{displayNumber:10})]})})]})},pt=function(){var e=Object(J.b)(),t=(Object(ue.b)().connection,e.publicKey),n=(e.signTransaction,e.sendTransaction),a=Object(r.useState)(0),i=Object(D.a)(a,2),c=i[0],s=i[1];Object(r.useEffect)((function(){}),[]);var o=Object(r.useCallback)((function(){t?ee.c.stakingConnection(t,n,c):Q.b.error(Object(W.jsx)(Z.a,{message:"Wallet not connected!"}),$.a)}),[c,t]);return Object(W.jsx)(F.a,{maxWidth:"sm",children:Object(W.jsxs)(L.a,{direction:"column",spacing:2,children:[Object(W.jsx)(X.a,{sx:{marginTop:2},fullWidth:!0,id:"outlined-basic",label:"amount",variant:"outlined",value:c,onChange:function(e){s(e.target.value)},defaultValue:0,type:"number"}),Object(W.jsx)(E.a,{color:"success",variant:"contained",onClick:o,children:Object(W.jsx)(G.a,{children:"Click to stake"})}),Object(W.jsx)(E.a,{variant:"contained",size:"medium",color:"info",onClick:function(){ee.c.getStakeActivation()},children:Object(W.jsx)(G.a,{children:"get state of staking"})})]})})},ft=n(512),jt=n(513),ht=function(){return Object(W.jsx)("div",{children:Object(W.jsx)("h1",{children:"ERROR: PAGE NOT FOUND!!!"})})},mt=n(1e3),gt=new x.PublicKey("DufRVTe36fs8VGo9EKkqaPgknV2hY9R1QUJVZz3cFRRW");function yt(){return(yt=Object(u.a)(b.a.mark((function e(t,n){var r,a,i,c,s,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new y.b(v.b,t,{}),a=Object(v.e)(r),e.prev=2,e.next=5,a.account.feedbackState.fetch(gt);case 5:return i=e.sent,console.log("feedback",i.currentPostKey.toString()),e.abrupt("return",i);case 10:return e.prev=10,e.t0=e.catch(2),c=x.Keypair.generate(),s=x.Keypair.generate(),e.next=16,a.rpc.initFeedback({accounts:{authority:n,systemProgram:x.SystemProgram.programId,feedbackAccount:c.publicKey,genesisPostAccount:s.publicKey},signers:[c,s]});case 16:return e.next=18,a.account.feedbackState.fetch(c.publicKey);case 18:return o=e.sent,console.log("Blog pubkey: ",c.publicKey.toString()),e.abrupt("return",o);case 21:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}var xt=function(){var e=Object(u.a)(b.a.mark((function e(t,n,r){var a,i,c,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new y.b(v.b,t,{}),i=Object(v.e)(a),c=x.Keypair.generate(),s=Object(O.d)(a.wallet.publicKey),e.next=6,i.rpc.createPost(n,r,{accounts:{feedbackAccount:gt,authority:a.wallet.publicKey,userAccount:s.publicKey,postAccount:c.publicKey,systemProgram:x.SystemProgram.programId},signers:[c]});case 6:p.b.success("Your feedback has been sent");case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Ot=d.a.Title,vt=d.a.Text,kt=m.a.TextArea,wt=function(){var e=Object(P.a)(),t=h.a.useForm(),n=Object(D.a)(t,1)[0],a=Object(r.useState)(!1),i=Object(D.a)(a,2),c=i[0],s=i[1];console.log("formRef",n);var o=function(){var t=Object(u.a)(b.a.mark((function t(r){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=3;break}return p.b.error("please connect your wallet!"),t.abrupt("return");case 3:if(r.title||r.content){t.next=6;break}return p.b.warning("please do not empty input"),t.abrupt("return");case 6:return s(!0),t.prev=7,console.log("success",r),t.next=11,xt(e,r.title,r.content);case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(7),p.b.error("Your feedback was not sent!");case 16:return t.prev=16,n.resetFields(),s(!1),t.finish(16);case 20:case"end":return t.stop()}}),t,null,[[7,13,16,20]])})));return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){e&&function(e,t){yt.apply(this,arguments)}(e,e.publicKey)}),[e]),e?Object(W.jsx)(mt.a,{style:{height:"100vh",background:"linear-gradient(to right,#bdcbf8, #8fdfce)"},children:Object(W.jsx)(f.a,{style:{padding:15,paddingTop:50,paddingBottom:50},justify:"space-around",children:Object(W.jsx)(j.a,{span:24,xs:8,lg:10,md:10,children:Object(W.jsx)(Me.a,{bordered:!0,style:{borderRadius:8,backgroundColor:"#e6f4ff"},children:Object(W.jsxs)(h.a,{name:"post",onFinish:o,onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",form:n,children:[Object(W.jsx)(h.a.Item,{name:"title",rules:[{required:!0,message:"Please input your title!"}],children:Object(W.jsx)(m.a,{placeholder:"Post title",size:"middle",style:{borderRadius:8,marginBottom:10}})}),Object(W.jsx)(h.a.Item,{name:"content",rules:[{required:!0,message:"Feedback can not be empty!"}],children:Object(W.jsx)(kt,{showCount:!0,placeholder:"Input your feedback here",maxLength:100,style:{height:60,borderRadius:8,marginBottom:10}})}),Object(W.jsx)(g.a,{size:"middle",type:"primary",style:{width:"100%",backgroundColor:"#7f8df5",borderColor:"#7c8ef3"},loading:c,htmlType:"submit",children:Object(W.jsx)(vt,{strong:!0,style:{color:"#ffffff"},children:"Post"})})]})})})})}):Object(W.jsx)(f.a,{style:{padding:15,paddingTop:50,paddingBottom:50},justify:"space-around",children:Object(W.jsx)(j.a,{span:24,xs:8,lg:10,md:10,children:Object(W.jsx)(Ot,{level:1,children:"Please connect your wallet first"})})})},St=function(){return Object(W.jsxs)(s.a,{children:[Object(W.jsx)(ut,{}),Object(W.jsxs)(o.d,{children:[Object(W.jsx)(o.b,{path:"/",element:Object(W.jsx)(I,{})}),Object(W.jsxs)(o.b,{path:"/wallet",element:Object(W.jsx)(z,{}),children:[Object(W.jsx)(o.b,{path:"withdraw",element:Object(W.jsx)(ne,{})}),Object(W.jsx)(o.b,{path:"deposit",element:Object(W.jsx)(de,{})})]}),Object(W.jsx)(o.b,{path:"/settings",element:Object(W.jsx)(ve,{})}),Object(W.jsx)(o.b,{path:"/staking",element:Object(W.jsx)(pt,{})}),Object(W.jsx)(o.b,{path:"/createNFT/:step",element:Object(W.jsx)(Fe,{})}),Object(W.jsx)(o.b,{path:"/metaplex",element:Object(W.jsx)(dt,{})}),Object(W.jsx)(o.b,{path:"/gameplay",element:Object(W.jsx)(ft.a,{})}),Object(W.jsx)(o.b,{path:"/gameplay/start",element:Object(W.jsx)(jt.a,{})}),Object(W.jsx)(o.b,{path:"/feedback",element:Object(W.jsx)(wt,{})}),Object(W.jsx)(o.b,{path:"*",element:Object(W.jsx)(ht,{})})]}),Object(W.jsx)(o.a,{})]})},Pt=n(514),Tt=n(993),At=n(1008),Kt=n(1021),Mt=n(1022),Rt=function(e){var t=e.children,n=Pt.b.Devnet,a=Object(r.useMemo)((function(){return Object(x.clusterApiUrl)(n)}),[n]),i=xe(),c=Object(r.useMemo)((function(){return[Object(Kt.a)(),Object(Mt.a)({network:n})]}),[n]),s=Object(r.useCallback)((function(e){i("error",e.message?"".concat(e.name,": ").concat(e.message):e.name)}),[]);return Object(W.jsx)(ge.a,{children:Object(W.jsx)(Tt.a,{endpoint:a,children:Object(W.jsx)(At.a,{wallets:c,onError:s,autoConnect:!0,children:Object(W.jsx)(nt.a,{children:t})})})})};n(903),n(904);var Ct=function(){return Object(W.jsx)(ge.a,{children:Object(W.jsxs)(Rt,{children:[Object(W.jsx)(St,{}),Object(W.jsx)(Q.a,{theme:"dark",position:"bottom-left",autoClose:5e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,style:{width:360}})]})})},_t=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,1032)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))},Wt=n(87),Bt=Object(A.b)({name:"counter",initialState:{value:0},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}}}),It=Bt.actions,Et=(It.increment,It.decrement,It.incrementByAmount,Bt.reducer),Nt=n(144),Ft=n(515),Lt=n.n(Ft),zt=Object(Wt.b)({auth:_,counter:Et}),Dt={key:"root",storage:Lt.a},Ut=Object(Nt.g)(Dt,zt),Ht=Object(A.a)({reducer:Ut,middleware:function(e){return e({serializableCheck:{ignoredActions:[Nt.a,Nt.f,Nt.b,Nt.c,Nt.d,Nt.e]}})}}),Vt=Object(Nt.h)(Ht),Gt=n(516);c.a.render(Object(W.jsx)(a.a.StrictMode,{children:Object(W.jsx)(Gt.a,{loading:null,persistor:Vt,children:Object(W.jsx)(T.a,{store:Ht,children:Object(W.jsx)(Ct,{})})})}),document.getElementById("root")),_t()}},[[905,1,2]]]);
//# sourceMappingURL=main.4df32890.chunk.js.map